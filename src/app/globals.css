@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap');

/* Import Tailwind WITHOUT preflight for stock analysis compatibility */
@import "tailwindcss/theme";
@import "tailwindcss/utilities";

:root {
  /* ═══ NEXT.JS APP VARIABLES ═══ */
  --background: #000000;
  --foreground: #ededed;

  /* ═══ STOCK ANALYSIS DESIGN TOKENS ═══ */
  --bg: #05070A;
  --surface: #0D1117;
  --surface2: #161B22;
  --surface3: #21262D;
  --border: rgba(240,246,252,0.1);
  --text: #F0F6FC;
  --text2: #8B949E;
  --text3: #8B949E;
  --cyan: #22D3EE;
  --cyan-dim: rgba(34,211,238,0.15);
  --mint: #7EE787;
  --mint-dim: rgba(126,231,135,0.15);
  --coral: #FF7B72;
  --coral-dim: rgba(255,123,114,0.15);
  --sky: #79C0FF;
  --sky-dim: rgba(121,192,255,0.15);
  --gold: #D29922;
  --gold-dim: rgba(210,153,34,0.15);
  --violet: #A78BFA;
  --violet-dim: rgba(167,139,250,0.15);
  --accent: var(--mint);
  --accent-dim: var(--mint-dim);
}

/* Base styles */
*, *::before, *::after {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  background: #000;
  color: var(--foreground);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.5;
}

/* Prevent text overflow on narrow viewports */
.stock-model-app {
  overflow-wrap: break-word;
  word-break: break-word;
}

/* Prevent visited link color changes */
a, a:visited {
  color: inherit;
  text-decoration: none;
}

/* Selection */
::selection {
  background: rgba(255, 255, 255, 0.15);
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }

/*
 * Tailwind utility overrides inside analysis components.
 * The model CSS reset is now scoped to .stock-model-app descendants,
 * so these are kept as safety nets for any edge cases.
 */
.stock-model-app .space-y-1 > * + * { margin-top: 0.25rem; }
.stock-model-app .space-y-2 > * + * { margin-top: 0.5rem; }
.stock-model-app .space-y-3 > * + * { margin-top: 0.75rem; }
.stock-model-app .space-y-4 > * + * { margin-top: 1rem; }
.stock-model-app .gap-2 { gap: 0.5rem; }
.stock-model-app .gap-3 { gap: 0.75rem; }
.stock-model-app .gap-4 { gap: 1rem; }

/* Row hover effect — replaces inline onMouseEnter/onMouseLeave DOM manipulation */
.hover-row { transition: background 0.15s; }
.hover-row:hover { background: var(--surface2); }

/* ═══ MOBILE RESPONSIVE OVERRIDES ═══ */

/* Ensure all stock model grids can wrap on narrow screens */
.stock-model-app [style*="grid-template-columns"] {
  min-width: 0;
}

/* Tables inside stock model should scroll horizontally */
.stock-model-app [style*="min-width: 700"],
.stock-model-app [style*="min-width: 600"] {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

@media (max-width: 768px) {
  /* Force multi-column grids to 2-column on tablets */
  .stock-model-app [style*="grid-template-columns: repeat(7"],
  .stock-model-app [style*="grid-template-columns: repeat(6"],
  .stock-model-app [style*="grid-template-columns: repeat(5"],
  .stock-model-app [style*="grid-template-columns: repeat(4"],
  .stock-model-app [style*="grid-template-columns: repeat(3"] {
    grid-template-columns: 1fr 1fr !important;
  }

  /* Complex fixed-width column grids → scrollable */
  .stock-model-app [style*="grid-template-columns: 120px"],
  .stock-model-app [style*="grid-template-columns: 150px"],
  .stock-model-app [style*="grid-template-columns: 100px 1fr"] {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Reduce oversized padding */
  .stock-model-app [style*="padding: 40px"],
  .stock-model-app [style*="padding: 48px"],
  .stock-model-app [style*="padding: 64px"] {
    padding: 16px !important;
  }

  /* Reduce inline horizontal padding */
  .stock-model-app [style*="padding: 12px 24px"],
  .stock-model-app [style*="padding: 16px 24px"],
  .stock-model-app [style*="padding: 24px 24px"] {
    padding-left: 12px !important;
    padding-right: 12px !important;
  }

  /* Reduce vertical section padding */
  .stock-model-app [style*="padding: 48px 0"] {
    padding-top: 24px !important;
  }

  /* Enforce touch-friendly button sizes */
  .stock-model-app button {
    min-height: 44px;
    min-width: 44px;
    font-size: max(12px, inherit) !important;
  }

  /* Prevent wide tables from breaking layout */
  .stock-model-app [style*="min-width: 700"],
  .stock-model-app [style*="min-width: 600"] {
    min-width: 100% !important;
    overflow-x: auto !important;
  }

  /* Tighten nav padding on mobile */
  nav .max-w-7xl { padding-left: 1rem; padding-right: 1rem; }

  /* Reduce inline gap for grids */
  .stock-model-app [style*="gap: 48px"] {
    gap: 16px !important;
  }
  .stock-model-app [style*="gap: 32px"] {
    gap: 12px !important;
  }
  .stock-model-app [style*="gap: 24px"] {
    gap: 12px !important;
  }
}

@media (max-width: 480px) {
  /* Stack all grids to single column on small phones */
  .stock-model-app [style*="grid-template-columns: repeat("] {
    grid-template-columns: 1fr !important;
  }

  /* 2-column grids also go single column */
  .stock-model-app [style*="grid-template-columns: 1fr 1fr"] {
    grid-template-columns: 1fr !important;
  }

  /* Fixed-width grids: enable scrolling */
  .stock-model-app [style*="grid-template-columns: 120px"],
  .stock-model-app [style*="grid-template-columns: 150px"],
  .stock-model-app [style*="grid-template-columns: 1fr 120px"],
  .stock-model-app [style*="grid-template-columns: 80px"],
  .stock-model-app [style*="grid-template-columns: 100px"] {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  nav .max-w-7xl { padding-left: 0.75rem; padding-right: 0.75rem; }

  /* Further reduce gap on small screens */
  .stock-model-app [style*="gap: 24px"],
  .stock-model-app [style*="gap: 16px"] {
    gap: 8px !important;
  }
}
